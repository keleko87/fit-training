(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["workout-go"],{"040b":function(t,e,i){"use strict";var s=i("cf88"),n=i.n(s);n.a},"1aa9":function(t,e,i){var s={"./boxing-bell.mp3":"2123","./countdown-10-second.mp3":"99ca"};function n(t){var e=r(t);return i(e)}function r(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=r,t.exports=n,n.id="1aa9"},2123:function(t,e,i){t.exports=i.p+"media/boxing-bell.b19e4bd8.mp3"},"2f92":function(t,e,i){},5572:function(t,e,i){"use strict";function s(t,e){if(e)for(var i=Object.keys(e),s=0,n=i.length;s<n;s++)t[i[s]]=e[i[s]];return t}function n(t){return s({},t)}function r(t){var e=n(h);if(t)for(var i=Object.keys(t),s=0,r=i.length;s<r;s++){var o=i[s];null==t[o]?delete e[o]:e[o]=t[o]}return e}var o="\\",a=/^\d$/,u=/^[A-Za-z]$/,c=/^[\dA-Za-z]$/,l="_",h={"*":{validate:function(t){return c.test(t)}},1:{validate:function(t){return a.test(t)}},a:{validate:function(t){return u.test(t)}},A:{validate:function(t){return u.test(t)},transform:function(t){return t.toUpperCase()}},"#":{validate:function(t){return c.test(t)},transform:function(t){return t.toUpperCase()}}};function d(t,e,i,s){if(!(this instanceof d))return new d(t,e,i);this.placeholderChar=i||l,this.formatCharacters=e||h,this.source=t,this.pattern=[],this.length=0,this.firstEditableIndex=null,this.lastEditableIndex=null,this._editableIndices={},this.isRevealingMask=s||!1,this._parse()}function f(t){if(!(this instanceof f))return new f(t);if(t=s({formatCharacters:null,pattern:null,isRevealingMask:!1,placeholderChar:l,selection:{start:0,end:0},value:""},t),null==t.pattern)throw new Error("InputMask: you must provide a pattern.");if("string"!==typeof t.placeholderChar||t.placeholderChar.length>1)throw new Error("InputMask: placeholderChar should be a single character or an empty string.");this.placeholderChar=t.placeholderChar,this.formatCharacters=r(t.formatCharacters),this.setPattern(t.pattern,{value:t.value,selection:t.selection,isRevealingMask:t.isRevealingMask})}d.prototype._parse=function(){for(var t=this.source.split(""),e=0,i=[],s=0,n=t.length;s<n;s++){var r=t[s];if(r===o){if(s===n-1)throw new Error("InputMask: pattern ends with a raw "+o);r=t[++s]}else r in this.formatCharacters&&(null===this.firstEditableIndex&&(this.firstEditableIndex=e),this.lastEditableIndex=e,this._editableIndices[e]=!0);i.push(r),e++}if(null===this.firstEditableIndex)throw new Error('InputMask: pattern "'+this.source+'" does not contain any editable characters.');this.pattern=i,this.length=i.length},d.prototype.formatValue=function(t){for(var e=new Array(this.length),i=0,s=0,n=this.length;s<n;s++)if(this.isEditableIndex(s)){if(this.isRevealingMask&&t.length<=i&&!this.isValidAtIndex(t[i],s))break;e[s]=t.length>i&&this.isValidAtIndex(t[i],s)?this.transform(t[i],s):this.placeholderChar,i++}else e[s]=this.pattern[s],t.length>i&&t[i]===this.pattern[s]&&i++;return e},d.prototype.isEditableIndex=function(t){return!!this._editableIndices[t]},d.prototype.isValidAtIndex=function(t,e){return this.formatCharacters[this.pattern[e]].validate(t)},d.prototype.transform=function(t,e){var i=this.formatCharacters[this.pattern[e]];return"function"==typeof i.transform?i.transform(t):t},f.prototype.input=function(t){if(this.selection.start===this.selection.end&&this.selection.start===this.pattern.length)return!1;var e=n(this.selection),i=this.getValue(),s=this.selection.start;if(s<this.pattern.firstEditableIndex&&(s=this.pattern.firstEditableIndex),this.pattern.isEditableIndex(s)){if(!this.pattern.isValidAtIndex(t,s))return!1;this.value[s]=this.pattern.transform(t,s)}var r=this.selection.end-1;while(r>s)this.pattern.isEditableIndex(r)&&(this.value[r]=this.placeholderChar),r--;this.selection.start=this.selection.end=s+1;while(this.pattern.length>this.selection.start&&!this.pattern.isEditableIndex(this.selection.start))this.selection.start++,this.selection.end++;return null!=this._historyIndex&&(this._history.splice(this._historyIndex,this._history.length-this._historyIndex),this._historyIndex=null),("input"!==this._lastOp||e.start!==e.end||null!==this._lastSelection&&e.start!==this._lastSelection.start)&&this._history.push({value:i,selection:e,lastOp:this._lastOp}),this._lastOp="input",this._lastSelection=n(this.selection),!0},f.prototype.backspace=function(){if(0===this.selection.start&&0===this.selection.end)return!1;var t=n(this.selection),e=this.getValue();if(this.selection.start===this.selection.end)this.pattern.isEditableIndex(this.selection.start-1)&&(this.value[this.selection.start-1]=this.placeholderChar),this.selection.start--,this.selection.end--;else{var i=this.selection.end-1;while(i>=this.selection.start)this.pattern.isEditableIndex(i)&&(this.value[i]=this.placeholderChar),i--;this.selection.end=this.selection.start}return null!=this._historyIndex&&this._history.splice(this._historyIndex,this._history.length-this._historyIndex),("backspace"!==this._lastOp||t.start!==t.end||null!==this._lastSelection&&t.start!==this._lastSelection.start)&&this._history.push({value:e,selection:t,lastOp:this._lastOp}),this._lastOp="backspace",this._lastSelection=n(this.selection),!0},f.prototype.paste=function(t){var e={value:this.value.slice(),selection:n(this.selection),_lastOp:this._lastOp,_history:this._history.slice(),_historyIndex:this._historyIndex,_lastSelection:n(this._lastSelection)};if(this.selection.start<this.pattern.firstEditableIndex){for(var i=0,r=this.pattern.firstEditableIndex-this.selection.start;i<r;i++)if(t.charAt(i)!==this.pattern.pattern[i])return!1;t=t.substring(this.pattern.firstEditableIndex-this.selection.start),this.selection.start=this.pattern.firstEditableIndex}for(i=0,r=t.length;i<r&&this.selection.start<=this.pattern.lastEditableIndex;i++){var o=this.input(t.charAt(i));if(!o){if(this.selection.start>0){var a=this.selection.start-1;if(!this.pattern.isEditableIndex(a)&&t.charAt(i)===this.pattern.pattern[a])continue}return s(this,e),!1}}return!0},f.prototype.undo=function(){if(0===this._history.length||0===this._historyIndex)return!1;var t;if(null==this._historyIndex){this._historyIndex=this._history.length-1,t=this._history[this._historyIndex];var e=this.getValue();t.value===e&&t.selection.start===this.selection.start&&t.selection.end===this.selection.end||this._history.push({value:e,selection:n(this.selection),lastOp:this._lastOp,startUndo:!0})}else t=this._history[--this._historyIndex];return this.value=t.value.split(""),this.selection=t.selection,this._lastOp=t.lastOp,!0},f.prototype.redo=function(){if(0===this._history.length||null==this._historyIndex)return!1;var t=this._history[++this._historyIndex];return this._historyIndex===this._history.length-1&&(this._historyIndex=null,t.startUndo&&this._history.pop()),this.value=t.value.split(""),this.selection=t.selection,this._lastOp=t.lastOp,!0},f.prototype.setPattern=function(t,e){e=s({selection:{start:0,end:0},value:""},e),this.pattern=new d(t,this.formatCharacters,this.placeholderChar,e.isRevealingMask),this.setValue(e.value),this.emptyValue=this.pattern.formatValue([]).join(""),this.selection=e.selection,this._resetHistory()},f.prototype.setSelection=function(t){if(this.selection=n(t),this.selection.start===this.selection.end){if(this.selection.start<this.pattern.firstEditableIndex)return this.selection.start=this.selection.end=this.pattern.firstEditableIndex,!0;var e=this.selection.start;while(e>=this.pattern.firstEditableIndex){if(this.pattern.isEditableIndex(e-1)&&this.value[e-1]!==this.placeholderChar||e===this.pattern.firstEditableIndex){this.selection.start=this.selection.end=e;break}e--}return!0}return!1},f.prototype.setValue=function(t){null==t&&(t=""),this.value=this.pattern.formatValue(t.split(""))},f.prototype.getValue=function(){return this.value.join("")},f.prototype.getRawValue=function(){for(var t=[],e=0;e<this.value.length;e++)!0===this.pattern._editableIndices[e]&&t.push(this.value[e]);return t.join("")},f.prototype._resetHistory=function(){this._history=[],this._historyIndex=null,this._lastOp=null,this._lastSelection=n(this.selection)},f.Pattern=d,t.exports=f},"68a1":function(t,e,i){},7727:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ft-workout-go-info"},[i("ft-modal",{attrs:{size:"md",modal:t.modalFinish},on:{close:function(e){return t.onCloseModal(e)}}},[i("template",{slot:"header"},[i("h3",{staticClass:"text-center mb-0"},[t._v("Finalizar entrenamiento")])]),i("template",{slot:"body"},[i("div",{staticClass:"row my-4"},[i("div",{staticClass:"col-12 mb-3"},[i("h5",{staticClass:"text-center"},[t._v("¿Quiers guardar el entrenamiento?")])]),i("div",{staticClass:"col-12 text-center mx-0"},[i("button",{staticClass:"btn btn-md btn-primary btn-witdh",on:{click:function(e){return e.preventDefault(),t.saveWorkout()}}},[t._v("\n            Guardar\n          ")]),i("button",{staticClass:"btn btn-md btn-danger btn-witdh",on:{click:function(e){return e.preventDefault(),t.closeWorkout()}}},[t._v("\n            Salir\n          ")])])])])],2),i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12 mt-3"},[i("div",{staticClass:"row"},[t.workout.name?i("div",{staticClass:"col-12 mb-3"},[i("h4",{staticClass:"ft-workout-go-info__info text-center"},[t._v("\n              "+t._s(t.workout.name)+"\n            ")])]):t._e()]),i("div",{staticClass:"row"},[t.workout.sport?i("div",{staticClass:"col-md-6"},[i("h6",{staticClass:"ft-workout-go-info__label"},[t._v("Actividad")]),i("p",{staticClass:"ft-workout-go-info__info"},[t._v(t._s(t.workout.sport))])]):t._e(),t.workout.bodyPart?i("div",{staticClass:"col-md-6"},[i("h6",{staticClass:"ft-workout-go-info__label"},[t._v("Parte del cuerpo")]),i("p",{staticClass:"ft-workout-go-info__info"},[t._v(t._s(t.workout.bodyPart))])]):t._e(),t.workout.target?i("div",{staticClass:"col-md-6"},[i("h6",{staticClass:"ft-workout-go-info__label"},[t._v("Objetivo")]),i("p",{staticClass:"ft-workout-go-info__info"},[t._v(t._s(t.workout.target))])]):t._e(),t.workout.level?i("div",{staticClass:"col-md-6"},[i("h6",{staticClass:"ft-workout-go-info__label"},[t._v("Nivel")]),i("p",{staticClass:"ft-workout-go-info__info"},[t._v(t._s(t.workout.level))])]):t._e()]),i("hr",{staticClass:"ft-breakline"}),i("div",{staticClass:"row ft-workout-go-info__time-info"},[i("div",{staticClass:"col-sm-6"},[i("md-field",[i("label",{attrs:{for:"series"}},[t._v("Series")]),i("md-select",{attrs:{disabled:""!==t.startDate,id:"series",name:"series"},model:{value:t.workoutSeries,callback:function(e){t.workoutSeries=e},expression:"workoutSeries"}},t._l(t.series,(function(e){return i("md-option",{key:e,attrs:{value:e}},[t._v("\n                  "+t._s(e)+"\n                ")])})),1)],1)],1),i("div",{staticClass:"col-md-6 ft-workout-go-info__time-info--item"},[i("md-field",[i("label",{attrs:{for:"series"}},[t._v("Descanso (min)")]),i("md-select",{attrs:{disabled:""!==t.startDate,id:"restBetweenExercise",name:"restBetweenExercise"},model:{value:t.restBetweenExercise,callback:function(e){t.restBetweenExercise=e},expression:"restBetweenExercise"}},t._l(t.minutes,(function(e){return i("md-option",{key:e,attrs:{value:e}},[t._v("\n                  "+t._s(e)+"\n                ")])})),1)],1)],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-6"},[i("md-checkbox",{staticClass:"md-primary checkbox-lg",attrs:{id:"timer",disabled:""!=t.startDate},model:{value:t.timerAuto,callback:function(e){t.timerAuto=e},expression:"timerAuto"}},[i("span",{staticClass:"checkbox-text"},[t._v("Tiempo auto")])])],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-6 px-1"},[i("button",{staticClass:"btn btn-primary w-100",attrs:{disabled:t.startDisabled},on:{click:function(e){return e.preventDefault(),t.workoutStart()}}},[t._v("\n              Iniciar\n            ")])]),i("div",{staticClass:"col-lg-6 px-1"},[i("button",{staticClass:"btn btn-danger w-100",attrs:{disabled:t.finishDisabled},on:{click:function(e){return e.preventDefault(),t.workoutFinish()}}},[t._v("\n              Fin\n            ")])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-12 px-1"},[i("button",{staticClass:"btn btn-default w-100",attrs:{disabled:t.reStartDisabled},on:{click:function(e){return e.preventDefault(),t.workoutReStart()}}},[t._v("\n              Nueva Serie\n            ")])])])])])])],1)},n=[],r=i("a34a"),o=i.n(r),a=i("aeca"),u=i("2f62"),c=i("9a36");function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function f(t,e,i,s,n,r,o){try{var a=t[r](o),u=a.value}catch(c){return void i(c)}a.done?e(u):Promise.resolve(u).then(s,n)}function m(t){return function(){var e=this,i=arguments;return new Promise((function(s,n){var r=t.apply(e,i);function o(t){f(r,s,n,o,a,"next",t)}function a(t){f(r,s,n,o,a,"throw",t)}o(void 0)}))}}var p=function(){return i.e("chunk-0672d8aa").then(i.bind(null,"11de"))},v={name:"workout-go-info",mixins:[a["a"]],created:function(){var t=m(o.a.mark((function t(){var e,i,s,n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="userId 12323",i=this.timerAuto,s=this.workoutExercises,n=this.workout,t.next=6,this.$store.dispatch("SET_WORKOUT_GO_DATA",{userId:e,auto:i,workout:n,workoutExercises:s});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),components:{FtModal:p},data:function(){return{series:c["d"],minutes:c["c"],modalFinish:!1}},computed:h({},Object(u["b"])(["startDate","endDate","currentExercise","currentWorkoutSerie","timerWorkoutSeries","timerWorkout","workoutExercisesAllDone"]),{timerAuto:{get:function(){return this.$store.state.workoutGo.timer.auto},set:function(t){console.log("set timer mode",t),this.$store.commit("SET_TIMER_AUTO",t)}},restBetweenExercise:{get:function(){return this.$store.state.workoutGo.timer.workout.restBetweenExercise},set:function(t){console.log("set Rest between exercise ",t);var e={restBetweenExercise:t};this.$store.commit("SET_TIMER_WORKOUT",e)}},workoutSeries:{get:function(){return this.$store.state.workoutGo.timer.workout.series},set:function(t){console.log("set Workout series ",t),this.$store.commit("SET_WORKOUT_SERIES",t)}},timerWorkoutExercises:function(){return this.$store.state.workoutGo.timer.workoutExercises},workout:function(){return this.$store.state.workout.data},workoutExercises:function(){return this.$store.state.workout.data.exercises},startDisabled:function(){return""!==this.startDate},reStartDisabled:function(){return this.currentWorkoutSerie===this.timerWorkoutSeries||!this.workoutExercisesAllDone||this.timerWorkout.finish},finishDisabled:function(){return""===this.startDate},duration:function(){return this.setTextTime(this.workout.duration)},rest:function(){return this.setTextTime(this.restBetweenExercise)}}),methods:{workoutStart:function(){var t=Date.now().toString(),e=this.workoutSeries;this.$store.dispatch("START_WORKOUT",{startDate:t,inputSeries:e})},workoutReStart:function(){this.$store.dispatch("RE_START_WORKOUT")},workoutFinish:function(){this.modalFinish=!0;var t=Date.now().toString();this.$store.dispatch("END_WORKOUT",t)},closeWorkout:function(){this.$router.push({name:"workoutNew"})},saveWorkout:function(){var t=m(o.a.mark((function t(){var e,i,s,n,r,a,u,c,l,h,d,f,m,p,v,b;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.workout,i=e.name,s=e.sport,n=e.bodyPart,r=e.level,a=e.target,u=e.duration,c=e.exercises,l="user id logged in 1",h=this.startDate,d=this.endDate,f=this.timerWorkoutSeries,m=this.timerWorkout.restBetweenExercise,p=this.timerWorkout.finish,v={name:i,sport:s,bodyPart:n,level:r,target:a,duration:u,exercises:c,series:f,restBetweenExercise:m,userId:l,startDate:h,endDate:d,finish:p},t.next=10,this.$store.dispatch("SAVE_WORKOUT_GO",v);case 10:b=t.sent,b&&this.closeWorkout();case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onCloseModal:function(t){this.modalFinish=t}},beforeDestroy:function(){this.$store.dispatch("RESET_WORKOUT_NOT_FINISH"),console.log("RESET_WORKOUT_NOT_FINISH",this.timerWorkoutExercises)}},b=v,w=(i("ec34"),i("2877")),k=Object(w["a"])(b,s,n,!1,null,"d3275902",null);e["default"]=k.exports},"99ca":function(t,e,i){t.exports=i.p+"media/countdown-10-second.215a9d28.mp3"},"9a36":function(t,e,i){"use strict";i.d(e,"e",(function(){return s})),i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return r})),i.d(e,"f",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return u}));var s=["Fitness","Boxing","HIIT","Core"],n=["Principiante","Intermedio","Avanzado"],r=["Pectoral","Espalda","Hombro","Pierna","Abdominal","Bíceps","Tríceps","Full body"],o=["Fuerza","Volumen","Definición","Resistencia","Velocidad","Agilidad","Técnica","Potencia","Footwork"],a=["0","0.5","1","2","3","4","5","10","15","20","25","30","45","60"],u=["1","2","3","4","5"]},a7bd:function(t,e,i){"use strict";var s=i("2f92"),n=i.n(s);n.a},aeca:function(t,e,i){"use strict";e["a"]={data:function(){return{audioFinish:null,audioInit:null,audioInitSource:"countdown-10-second",audioFinishSource:"boxing-bell"}},methods:{getAudioSource:function(t){return i("1aa9")("./".concat(t,".mp3"))},setTextTime:function(t){if(!t||0===t)return"0s";var e=Math.ceil(60*t);return t<=1?"".concat(e,"s"):"".concat(t,"m")},setTextReps:function(t){return null===t?"-":0==t?" Fallo":t},setTextSeriesXreps:function(t,e){return"".concat(t,"x").concat(e)}}}},cf88:function(t,e,i){},def9:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ft-workout-go-exercises"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row mt-3"},[i("div",{staticClass:"ft-workout-go-exercises__exercises col-12"},[i("div",{staticClass:"row"},t._l(t.workoutExercises,(function(e){return i("div",{key:e.idGlobal,staticClass:"col-sm-12 col-md-6 col-lg-4 mb-3"},[i("workout-exercises-card",{attrs:{"workout-go":!0,data:e},on:{delete:function(e){return t.onDeleteExercise(e)}}})],1)})),0)])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("ft-timer")],1)])])])},n=[],r=i("2f62"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ft-timer"},[i("ft-modal",{attrs:{size:"sm",modal:t.modalFinish},on:{close:function(e){return t.onCloseModalFinish(e)}}},[i("template",{slot:"header"},[i("h4",{staticClass:"mb-0"},[t._v("Buen trabajo")])]),i("template",{slot:"body"},[i("div",{staticClass:"text-center"},[i("h5",{staticClass:"my-3"},[t._v("\n          "+t._s(t.modalFinishText)+"\n        ")])])])],2),i("ft-modal",{attrs:{size:"sm",modal:t.modalCountdownInit}},[i("template",{slot:"header"},[t.isRestTime?i("h5",{staticClass:"mb-0"},[t._v("Descanso")]):i("h5",{staticClass:"mb-0"},[t._v("Ejercicio comienza en...")])]),i("template",{slot:"body"},[i("div",{staticClass:"ft-timer__time-countdown-before-init text-center"},[i("h2",{staticClass:"ft-timer__time-countdown-before-init--text"},[t._v("\n          "+t._s(t.timeCountdownBeforeInit)+"\n        ")])])])],2),i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 d-flex justify-content-center"},[t.timerAuto?i("button",{staticClass:"btn btn-sm btn-default",attrs:{disabled:t.autoStartDisabled},on:{click:function(e){return t.autoStart()}}},[t._v("\n          Iniciar Auto\n        ")]):t._e(),this.timerAuto||t.isRestTime?t._e():i("button",{staticClass:"btn btn-sm btn-default",attrs:{disabled:!t.startDate||0!=t.selectedTime||t.currentWorkoutSerieFinished},on:{click:function(e){return t.nextExercise()}}},[t._v("\n          Siguiente\n        ")])])]),i("div",{staticClass:"row d-flex justify-content-between"},[i("div",{staticClass:"col-sm-6"},[t._m(0),i("div",{staticClass:"d-flex justify-content-center align-items-center"},[i("div",{staticClass:"ft-timer__item--player d-flex"},[i("div",{staticClass:"ft-timer__link",class:{disabled:t.startDisabled}},[i("a",{attrs:{disabled:t.startDisabled},on:{click:function(e){return e.preventDefault(),t.startCountdown()}}},[i("mdb-icon",{staticClass:"ft-icon",attrs:{icon:"play"}})],1)]),i("div",{staticClass:"ft-timer__link",class:{disabled:t.pauseDisabled}},[i("a",{attrs:{disabled:t.pauseDisabled},on:{click:function(e){return e.preventDefault(),t.pauseCountdown()}}},[i("mdb-icon",{staticClass:"ft-icon",attrs:{icon:"pause"}})],1)])]),t.showCustomTime?t._e():i("div",{staticClass:"ft-timer__item--time-left"},[i("span",{staticClass:"my-0",on:{click:function(e){return e.preventDefault(),t.openCustomTime()}}},[t._v("\n              "+t._s(t.timeLeft)+"\n            ")])]),t.showCustomTime?i("div",{staticClass:"ft-timer__item--time-left active"},[i("masked-input",{staticClass:"ft-timer__item--time-left-custom-time",attrs:{id:"customTime",name:"customTime",placeholder:"00:00",inputmode:"numeric",disabled:t.customTimeDisabled,value:t.customTime.display,mask:{pattern:"DU:DU",formatCharacters:{D:{validate:function(t){return/^[0-5]$/.test(t)}},U:{validate:function(t){return/^[0-9]$/.test(t)}}}}},on:{input:function(e){return t.onChangeTime(e)}},nativeOn:{blur:function(e){return t.setCustomTime(e)}}})],1):t._e(),i("div",{staticClass:"ft-timer__item--times d-flex"},[i("div",{staticClass:"ft-timer__link",class:{disabled:t.stopDisabled}},[i("a",{attrs:{disabled:t.stopDisabled},on:{click:function(e){return e.preventDefault(),t.stopCountdown()}}},[i("mdb-icon",{staticClass:"ft-icon",attrs:{icon:"stop"}})],1)]),i("div",{staticClass:"ft-timer__link",class:{disabled:t.setTimeDisabled}},[i("a",{attrs:{disabled:t.setTimeDisabled},on:{click:function(e){return e.preventDefault(),t.setTime(t.time.sec)}}},[t._v("\n                "+t._s(t.time.display)+"\n              ")])])])])]),i("div",{staticClass:"col-sm-6"},[t._m(1),i("div",{staticClass:"d-flex justify-content-center"},t._l(t.timerWorkoutSeries,(function(e){return i("div",{key:e,staticClass:"ft-timer__link series",class:[{active:t.currentWorkoutSerie===e},{"is-done":t.currentWorkoutSerie>e},{disabled:e!==t.currentWorkoutSerie}]},[i("a",{staticClass:"ft-timer__link--serie"},[t._v("\n              "+t._s(e)+"\n            ")])])})),0)])])])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",{staticClass:"text-center mb-2"},[t._v("Tiempo")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",{staticClass:"text-center mt-1 mb-2"},[t._v("Series")])])}],u=i("a34a"),c=i.n(u),l=i("5572"),h=i.n(l),d=function(){var t=window,e=t.document;function i(t){var e="focus"===t.type?"focusin":"focusout",i=new CustomEvent(e,{bubbles:!0,cancelable:!1});i.c1Generated=!0,t.target.dispatchEvent(i)}function s(t){t.c1Generated||(e.removeEventListener("focus",i,!0),e.removeEventListener("blur",i,!0),e.removeEventListener("focusin",s,!0),e.removeEventListener("focusout",s,!0)),setTimeout((function(){e.removeEventListener("focusin",s,!0),e.removeEventListener("focusout",s,!0)}))}void 0===t.onfocusin&&(e.addEventListener("focus",i,!0),e.addEventListener("blur",i,!0),e.addEventListener("focusin",s,!0),e.addEventListener("focusout",s,!0))};function f(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}d();var m={name:"MaskedInput",render:function(t){return t("input",{ref:"input",attrs:{disabled:null===this.maskCore||this.disabled},domProps:{value:this.value},on:{keydown:this.keyDown,keypress:this.keyPress,keyup:this.keyUp,textInput:this.textInput,mouseup:this.mouseUp,focusout:this.focusOut,cut:this.cut,copy:this.copy,paste:this.paste}})},data:function(){return{marginLeft:0,maskCore:null,updateAfterAll:!1}},props:{value:{type:String},mask:{required:!0,validator:function(t){return!!(t&&t.length>=1||t instanceof Object)}},placeholderChar:{type:String,default:"_",validator:function(t){return!(!t||1!==t.length)}},disabled:{type:Boolean,default:!1}},watch:{mask:function(t,e){JSON.stringify(t)!==JSON.stringify(e)&&this.initMask()},value:function(t){this.maskCore&&this.maskCore.setValue(t)}},mounted:function(){this.initMask()},methods:{initMask:function(){var t=this;try{this.mask instanceof Object?this.maskCore=new h.a(this.mask):this.maskCore=new h.a({pattern:this.mask,value:"",placeholderChar:this.placeholderChar,formatCharacters:{a:{validate:function(t){return/^[A-Za-zА-Яа-я]$/.test(t)}},A:{validate:function(t){return/^[A-Za-zА-Яа-я]$/.test(t)},transform:function(t){return t.toUpperCase()}},"*":{validate:function(t){return/^[\dA-Za-zА-Яа-я]$/.test(t)}},"#":{validate:function(t){return/^[\dA-Za-zА-Яа-я]$/.test(t)},transform:function(t){return t.toUpperCase()}},"+":{validate:function(){return!0}}}}),[].concat(f(this.$refs.input.value)).reduce((function(e,i){return t.maskCore.input(i)}),null),this.maskCore.setSelection({start:0,end:0}),""===this.$refs.input.value?this.$emit("input","",""):this.updateToCoreState()}catch(e){this.maskCore=null,this.$refs.input.value="Error",this.$emit("input",this.$refs.input.value,"")}},getValue:function(){return this.maskCore?this.maskCore.getValue():""},keyDown:function(t){if(null!==this.maskCore)switch(this.setNativeSelection(),t.keyCode){case 8:t.preventDefault(),(this.maskCore.selection.start>this.marginLeft||this.maskCore.selection.start!==this.maskCore.selection.end)&&(this.maskCore.backspace(),this.updateToCoreState());break;case 37:t.preventDefault(),this.$refs.input.selectionStart===this.$refs.input.selectionEnd&&(this.$refs.input.selectionStart-=1),this.maskCore.selection={start:this.$refs.input.selectionStart,end:this.$refs.input.selectionStart},this.updateToCoreState();break;case 39:t.preventDefault(),this.$refs.input.selectionStart===this.$refs.input.selectionEnd&&(this.$refs.input.selectionEnd+=1),this.maskCore.selection={start:this.$refs.input.selectionEnd,end:this.$refs.input.selectionEnd},this.updateToCoreState();break;case 35:t.preventDefault(),this.$refs.input.selectionStart=this.$refs.input.value.length,this.$refs.input.selectionEnd=this.$refs.input.value.length,this.maskCore.selection={start:this.$refs.input.selectionEnd,end:this.$refs.input.selectionEnd},this.updateToCoreState();break;case 36:t.preventDefault(),this.$refs.input.selectionStart=0,this.$refs.input.selectionEnd=0,this.maskCore.selection={start:this.$refs.input.selectionStart,end:this.$refs.input.selectionStart},this.updateToCoreState();break;case 46:t.preventDefault(),this.$refs.input.selectionStart===this.$refs.input.selectionEnd?(this.maskCore.setValue(""),this.maskCore.setSelection({start:0,end:0}),this.$refs.input.selectionStart=this.maskCore.selection.start,this.$refs.input.selectionEnd=this.maskCore.selection.start):this.maskCore.backspace(),this.updateToCoreState();break;default:break}else t.preventDefault()},keyPress:function(t){if(!t.ctrlKey){var e=!!document.documentMode,i="undefined"!==typeof InstallTrigger;(e||i)&&(t.preventDefault(),t.data=t.key,this.textInput(t))}},textInput:function(t){t.preventDefault&&t.preventDefault(),this.maskCore.input(t.data)&&(this.updateAfterAll=!0),this.updateToCoreState()},keyUp:function(t){9!==t.keyCode&&(this.updateToCoreState(),this.updateAfterAll=!1)},cut:function(t){if(t.preventDefault(),this.$refs.input.selectionStart!==this.$refs.input.selectionEnd){try{document.execCommand("copy")}catch(e){}this.maskCore.backspace(),this.updateToCoreState()}},copy:function(){},paste:function(t){var e=this;t.preventDefault();var i=t.clipboardData.getData("text");[].concat(f(i)).reduce((function(t,i){return e.maskCore.input(i)}),null),this.updateToCoreState()},updateToCoreState:function(){null!==this.maskCore&&(this.$refs.input.value!==this.maskCore.getValue()&&(this.$refs.input.value=this.maskCore.getValue(),this.$emit("input",this.$refs.input.value,this.maskCore.getRawValue())),this.$refs.input.selectionStart=this.maskCore.selection.start,this.$refs.input.selectionEnd=this.maskCore.selection.end)},isEmpty:function(){return null===this.maskCore||this.maskCore.getValue()===this.maskCore.emptyValue},focusOut:function(){this.isEmpty()&&(this.$refs.input.value="",this.maskCore.setSelection({start:0,end:0}),this.$emit("input","",""))},setNativeSelection:function(){this.maskCore.selection={start:this.$refs.input.selectionStart,end:this.$refs.input.selectionEnd}},mouseUp:function(){this.isEmpty()&&this.$refs.input.selectionStart===this.$refs.input.selectionEnd?(this.maskCore.setSelection({start:0,end:0}),this.$refs.input.selectionStart=this.maskCore.selection.start,this.$refs.input.selectionEnd=this.maskCore.selection.start,this.marginLeft=this.maskCore.selection.start,this.updateToCoreState()):this.setNativeSelection()}}},p=i("91c9"),v=i("aeca"),b={createAudio:function(t){var e=new Audio(t);return e},playAlarm:function(t,e){if(!t&&null!==e){var i=e.play();void 0!==i&&i.then((function(t){return t})).catch((function(t){return t}))}},stopAlarm:function(t){t&&(t.pause(),t.currentTime=0)}};function w(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=k(t))){var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,n,r=!0,o=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return r=t.done,t},e:function(t){o=!0,n=t},f:function(){try{r||null==s.return||s.return()}finally{if(o)throw n}}}}function k(t,e){if(t){if("string"===typeof t)return C(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?C(t,e):void 0}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function _(t,e,i,s,n,r,o){try{var a=t[r](o),u=a.value}catch(c){return void i(c)}a.done?e(u):Promise.resolve(u).then(s,n)}function x(t){return function(){var e=this,i=arguments;return new Promise((function(s,n){var r=t.apply(e,i);function o(t){_(r,s,n,o,a,"next",t)}function a(t){_(r,s,n,o,a,"throw",t)}o(void 0)}))}}function y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function E(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(Object(i),!0).forEach((function(e){g(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function g(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var T=function(){return i.e("chunk-0672d8aa").then(i.bind(null,"11de"))},I={name:"ft-timer",components:{mdbIcon:p["mdbIcon"],FtModal:T,MaskedInput:m},mixins:[v["a"]],data:function(){return{intervalTimer:null,intervalBeforeInit:null,selectedTime:0,secondsLeft:0,timeLeft:"00:00",initCountdown:!1,isPaused:!1,modalCountdownInit:!1,modalFinish:!1,timeCountdownBeforeInit:0,isRestTime:!1,initAutoTimer:!1,customTime:{sec:0,display:"00:00"},showCustomTime:!1}},mounted:function(){this.setCountdownAudios()},computed:E({},Object(r["b"])(["startDate","currentExercise","currentWorkoutSerie","timerAuto","timerWorkout","timerWorkoutSeries","workoutExercisesAllDone"]),{restBetweenExercise:function(){return 60*this.$store.state.workoutGo.timer.workout.restBetweenExercise},timerWorkoutExercises:function(){return this.$store.state.workoutGo.timer.workoutExercises},currentWorkoutSerieFinished:function(){return this.$store.state.workoutGo.timer.currentWorkoutSerieFinished},workoutFinish:function(){return this.$store.state.workoutGo.timer.workout.finish},time:function(){var t=this.currentExercise.time,e=60*t,i=this.setTextTime(t);return{sec:e,display:i}},currentExerciseTime:function(){return this.currentExercise&&this.currentExercise.time},restExercise:function(){return this.currentExercise.rest},customTimeDisabled:function(){return!this.startDate||this.currentExerciseTime||this.startDisabled&&!this.pauseDisabled||!this.startDisabled&&!this.stopDisabled},autoStartDisabled:function(){return!this.startDate||this.initAutoTimer||this.workoutExercisesAllDone||!this.currentExerciseTime},stopDisabled:function(){return!this.selectedTime||0===this.secondsLeft||this.timerAuto},startDisabled:function(){return!this.selectedTime||this.secondsLeft>0&&!this.isPaused||this.timerAuto},pauseDisabled:function(){return!this.selectedTime||0===this.secondsLeft||this.isPaused||this.timerAuto},setTimeDisabled:function(){return!this.currentExerciseTime||0!==this.selectedTime||this.timerAuto},modalFinishText:function(){return(this.workoutExercisesAllDone||this.currentWorkoutSerieFinished)&&this.workoutFinish?"Enhorabuena! Has acabado el entrenamiento!":this.workoutExercisesAllDone||this.currentWorkoutSerieFinished?"Has finalizado la serie!":""}}),methods:{autoStart:function(){var t=x(c.a.mark((function t(){var e,i,s,n,r;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.initAutoTimer=!0,e=0,i=w(this.timerWorkoutExercises),t.prev=3,i.s();case 5:if((s=i.n()).done){t.next=36;break}if(n=s.value,!(e>0)||this.intervalBeforeInit||this.intervalTimer){t.next=23;break}if(console.log("next exercise",n),!(this.restBetweenExercise>0&&this.currentExercise.done)){t.next=14;break}return t.next=12,this.nextExercise();case 12:t.next=21;break;case 14:return this.setNextExercise(),this.setTime(this.time.sec),this.initCountdown=!0,this.countdown(this.selectedTime),r=1e3*(this.selectedTime+1),t.next=21,this.timeout(r);case 21:t.next=33;break;case 23:return this.timeCountdownBeforeInit=10,this.setTime(this.time.sec),t.next=27,this.countdownReadyAndRest(this.timeCountdownBeforeInit);case 27:return b.stopAlarm(this.audioInit),this.modalCountdownInit=!1,this.initCountdown=!0,this.countdown(this.selectedTime),t.next=33,this.timeout(1e3*this.selectedTime);case 33:e++;case 34:t.next=5;break;case 36:t.next=41;break;case 38:t.prev=38,t.t0=t["catch"](3),i.e(t.t0);case 41:return t.prev=41,i.f(),t.finish(41);case 44:this.workoutExercisesAllDone&&(this.$store.dispatch("SET_NEXT_EXERCISE"),this.openModalFinish()),this.initAutoTimer=!1;case 46:case"end":return t.stop()}}),t,this,[[3,38,41,44]])})));function e(){return t.apply(this,arguments)}return e}(),nextExercise:function(){var t=x(c.a.mark((function t(){var e;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.resetCountdown(),!(this.restBetweenExercise>0&&this.currentExercise.done)){t.next=20;break}if(this.isRestTime=!0,this.timeCountdownBeforeInit=this.restBetweenExercise,this.initCountdown){t.next=17;break}return this.setNextExercise(),this.setTime(this.time.sec),t.next=9,this.countdownReadyAndRest(this.timeCountdownBeforeInit);case 9:return b.stopAlarm(this.audioInit),this.modalCountdownInit=!1,this.initCountdown=!0,this.countdown(this.selectedTime),e=1e3*(this.selectedTime+1),t.next=16,this.timeout(e);case 16:this.openModalFinish();case 17:this.isPaused=!1,t.next=21;break;case 20:this.setNextExercise();case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setNextExercise:function(){this.$store.dispatch("SET_NEXT_EXERCISE"),this.openModalFinish()},setCountdownAudios:function(){var t=this.getAudioSource(this.audioInitSource),e=this.getAudioSource(this.audioFinishSource);this.audioInit=b.createAudio(t),this.audioFinish=b.createAudio(e)},transformDisplayTime:function(t){var e=t.split(":"),i=e[0].replace("_","0"),s=e[1].replace("_","0"),n=60*parseInt(i,10)+parseInt(s,10);return n},onChangeTime:function(t){var e=this.transformDisplayTime(t);this.customTime.sec=e,this.customTime.display=t},openCustomTime:function(){this.customTimeDisabled||(this.showCustomTime=!0)},setCustomTime:function(t){console.log("blur",t.target.value),this.setTime(this.customTime.sec),this.showCustomTime=!1},setTime:function(t){clearInterval(this.intervalTimer),this.displayTimeLeft(t),this.selectedTime=t},timeout:function(t){return new Promise((function(e){return setTimeout(e,t)}))},countdown:function(t){var e=this;this.secondsLeft=t,this.intervalTimer=setInterval((function(){if(console.log(e.intervalTimer,"COUNTDOWN exercise:",e.secondsLeft),e.isPaused||(e.secondsLeft=e.secondsLeft-1),e.secondsLeft<=0)return b.playAlarm(!1,e.audioFinish),clearInterval(e.intervalTimer),e.intervalTimer=null,e.$store.dispatch("SET_CURRENT_EXERCISE_DONE"),e.workoutExercisesAllDone&&(e.$store.dispatch("SET_NEXT_EXERCISE"),e.openModalFinish()),void e.resetCountdown();e.displayTimeLeft(e.secondsLeft)}),1e3)},countDownBeforeInit:function(t){var e=this;this.timeCountdownBeforeInit=t,this.intervalBeforeInit=setInterval((function(){return console.log(e.intervalBeforeInit,"COUNTDOWNN BEFORE INIT:",e.timeCountdownBeforeInit),e.timeCountdownBeforeInit<=10&&b.playAlarm(!1,e.audioInit),e.timeCountdownBeforeInit<=0?(clearInterval(e.intervalBeforeInit),e.intervalBeforeInit=null,e.timeCountdownBeforeInit):(e.timeCountdownBeforeInit=e.timeCountdownBeforeInit-1,e.timeCountdownBeforeInit)}),1e3)},countdownReadyAndRest:function(){var t=x(c.a.mark((function t(e){var i;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=1e3*(e+1),this.modalCountdownInit=!0,this.countDownBeforeInit(e),t.next=5,this.timeout(i);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),startCountdown:function(){var t=x(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.initCountdown){t.next=8;break}return this.timeCountdownBeforeInit=10,t.next=4,this.countdownReadyAndRest(this.timeCountdownBeforeInit);case 4:b.stopAlarm(this.audioInit),this.modalCountdownInit=!1,this.initCountdown=!0,this.countdown(this.selectedTime);case 8:this.isPaused=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),pauseCountdown:function(){this.isPaused=!0},stopCountdown:function(){this.resetCountdown()},resetCountdown:function(){clearInterval(this.intervalTimer),clearInterval(this.intervalBeforeInit),this.initCountdown=!1,this.selectedTime=0,this.secondsLeft=0,this.timeLeft="00:00",this.isRestTime=!1},displayTimeLeft:function(t){var e=Math.floor(t%3600/60),i=t%60;this.timeLeft="".concat(this.zeroPadded(e),":").concat(this.zeroPadded(i))},zeroPadded:function(t){return t<10?"0".concat(t):t},hourConvert:function(t){return t%12||12},showModalFinish:function(){this.modalFinish=!0},openModalFinish:function(){(this.workoutFinish||this.currentWorkoutSerieFinished||this.workoutExercisesAllDone)&&this.showModalFinish()},onCloseModalFinish:function(t){this.modalFinish=t}},beforeDestroy:function(){clearInterval(this.intervalTimer),clearInterval(this.intervalBeforeInit),this.intervalTimer=null,this.intervalBeforeInit=null,console.log("timers destroyed")}},S=I,O=(i("040b"),i("2877")),D=Object(O["a"])(S,o,a,!1,null,"742c0b88",null),A=D.exports;function $(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function j(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?$(Object(i),!0).forEach((function(e){P(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function P(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var F=function(){return i.e("chunk-604babd9").then(i.bind(null,"b470"))},R={name:"exercise-detail",props:{type:{type:String,default:"exercise"},info:{type:Object}},components:{WorkoutExercisesCard:F,FtTimer:A},computed:j({},Object(r["b"])(["currentWorkoutSerie","timerWorkout","workoutExercisesAllDone"]),{workoutExercises:function(){return this.$store.state.workout.data.exercises},currentWorkoutSerieFinished:function(){return this.$store.state.workoutGo.timer.currentWorkoutSerieFinished},workoutFinish:function(){return this.$store.state.workoutGo.timer.workout.finish}}),methods:{onDeleteExercise:function(t){console.log(t,"deleted",this.workoutExercises)},workoutInit:function(){this.$router.push({name:"workoutGo"})}}},B=R,W=(i("a7bd"),Object(O["a"])(B,s,n,!1,null,"179b175a",null));e["default"]=W.exports},ec34:function(t,e,i){"use strict";var s=i("68a1"),n=i.n(s);n.a}}]);
//# sourceMappingURL=workout-go.efa17cb6.js.map