(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-631a4aa8"],{"0d77":function(e,t,i){e.exports=i.p+"img/boxing.bb9ac4d1.png"},"0f4d":function(e,t,i){e.exports=i.p+"img/core.119d12d8.png"},"10e9":function(e,t,i){e.exports=i.p+"img/hiit.6bb2f852.png"},"153b":function(e,t,i){},"320a":function(e,t,i){var r={"./boxing.png":"0d77","./core.png":"5b20","./fitness.png":"64b1","./hiit.png":"347a"};function s(e){var t=a(e);return i(t)}function a(e){if(!i.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id="320a"},3368:function(e,t,i){e.exports=i.p+"img/boxing.863323aa.png"},"347a":function(e,t,i){e.exports=i.p+"img/hiit.c9a0897a.png"},"48e6":function(e,t,i){"use strict";var r=i("153b"),s=i.n(r);s.a},"574e":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ft-exercise-new mt-2"},[i("div",{staticClass:"container"},[i("form",{attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[i("div",{staticClass:"form-row"},[i("div",{staticClass:"col-md-6"},[i("md-field",{class:e.getValidationClass("name")},[i("label",[e._v("Nombre")]),i("md-input",{attrs:{type:"text",id:"name"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required?e.$v.form.name.minlength?e._e():i("span",{staticClass:"md-error"},[e._v(e._s(e.invalidField))]):i("span",{staticClass:"md-error"},[e._v(e._s(e.requiredField))])],1)],1),i("div",{staticClass:"col-md-6"},[i("md-field",{class:e.getValidationClass("moveType")},[i("label",[e._v("Tipo de ejercicio")]),i("md-input",{attrs:{type:"text",id:"move-type"},model:{value:e.$v.form.moveType.$model,callback:function(t){e.$set(e.$v.form.moveType,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.moveType.$model"}})],1)],1)]),i("div",{staticClass:"form-row"},[i("div",{staticClass:"col-md-3"},[i("md-field",{class:e.getValidationClass("sport")},[i("label",{attrs:{for:"sport"}},[e._v("Actividad")]),i("md-select",{attrs:{id:"sport",name:"sport"},model:{value:e.$v.form.sport.$model,callback:function(t){e.$set(e.$v.form.sport,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.sport.$model"}},e._l(e.sports,(function(t){return i("md-option",{key:t,attrs:{value:t}},[e._v("\n                "+e._s(t)+"\n              ")])})),1),e.$v.form.sport.required?e._e():i("span",{staticClass:"md-error"},[e._v(e._s(e.requiredField))])],1)],1),i("div",{staticClass:"col-md-3"},[i("md-field",{class:e.getValidationClass("bodyPart")},[i("label",{attrs:{for:"bodyPart"}},[e._v("Parte del cuerpo")]),i("md-select",{attrs:{id:"bodyPart",name:"bodyPart"},model:{value:e.$v.form.bodyPart.$model,callback:function(t){e.$set(e.$v.form.bodyPart,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.bodyPart.$model"}},e._l(e.bodyParts,(function(t){return i("md-option",{key:t,attrs:{value:t}},[e._v("\n                "+e._s(t)+"\n              ")])})),1),e.$v.form.bodyPart.required?e._e():i("span",{staticClass:"md-error"},[e._v(e._s(e.requiredField))])],1)],1),i("div",{staticClass:"col-md-3"},[i("md-field",{class:e.getValidationClass("target")},[i("label",{attrs:{for:"movie"}},[e._v("Objetivo")]),i("md-select",{attrs:{id:"target",name:"target"},model:{value:e.$v.form.target.$model,callback:function(t){e.$set(e.$v.form.target,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.target.$model"}},e._l(e.targets,(function(t){return i("md-option",{key:t,attrs:{value:t}},[e._v("\n                "+e._s(t))])})),1),e.$v.form.target.required?e._e():i("span",{staticClass:"md-error"},[e._v(e._s(e.requiredField))])],1)],1),i("div",{staticClass:"col-md-3"},[i("md-field",{class:e.getValidationClass("level")},[i("label",{attrs:{for:"level"}},[e._v("Nivel")]),i("md-select",{attrs:{id:"level",name:"level"},model:{value:e.$v.form.level.$model,callback:function(t){e.$set(e.$v.form.level,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.level.$model"}},e._l(e.levels,(function(t){return i("md-option",{key:t,attrs:{value:t}},[e._v("\n                "+e._s(t)+"\n              ")])})),1),e.$v.form.level.required?e._e():i("span",{staticClass:"md-error"},[e._v(e._s(e.requiredField))])],1)],1)]),i("div",{staticClass:"form-row"},[i("div",{staticClass:"col-md-6"},[i("md-field",{class:e.getValidationClass("description")},[i("label",[e._v("Descripción")]),i("md-input",{attrs:{type:"textarea",id:"descripton"},model:{value:e.$v.form.description.$model,callback:function(t){e.$set(e.$v.form.description,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.description.$model"}})],1)],1),i("div",{staticClass:"col-md-6"},[i("md-field",{class:e.getValidationClass("observations")},[i("label",[e._v("Observaciones")]),i("md-input",{attrs:{type:"textarea",id:"observations"},model:{value:e.$v.form.observations.$model,callback:function(t){e.$set(e.$v.form.observations,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.observations.$model"}})],1)],1)]),i("div",{staticClass:"form-row"},[i("div",{staticClass:"col-md-3"},[i("md-field",{class:e.getValidationClass("series")},[i("label",[e._v("Series")]),i("md-input",{attrs:{type:"number",id:"series"},model:{value:e.$v.form.series.$model,callback:function(t){e.$set(e.$v.form.series,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.series.$model"}})],1)],1),i("div",{staticClass:"col-md-3"},[i("md-field",{class:e.getValidationClass("reps")},[i("label",[e._v("Repeticiones")]),i("md-input",{attrs:{type:"number",id:"reps"},model:{value:e.$v.form.reps.$model,callback:function(t){e.$set(e.$v.form.reps,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.reps.$model"}})],1)],1),i("div",{staticClass:"col-md-3"},[i("md-autocomplete",{class:e.getValidationClass("rest"),attrs:{"md-options":e.minutes},model:{value:e.$v.form.rest.$model,callback:function(t){e.$set(e.$v.form.rest,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.rest.$model"}},[i("label",[e._v("Descanso (min)")])]),e.$v.form.rest.minValue&&e.$v.form.rest.maxValue?e._e():i("span",{staticClass:"md-error"},[e._v("\n            Añade un valor entre "+e._s(e.minValueTime)+" y "+e._s(e.maxValueTime)+"\n          ")])],1),i("div",{staticClass:"col-md-3"},[i("md-autocomplete",{class:e.getValidationClass("time"),attrs:{"md-options":e.minutes},model:{value:e.$v.form.time.$model,callback:function(t){e.$set(e.$v.form.time,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.time.$model"}},[i("label",[e._v("Duración (min)")])]),e.$v.form.time.minValue&&e.$v.form.time.maxValue?e._e():i("span",{staticClass:"md-error"},[e._v("\n            Añade un valor entre "+e._s(e.minValueTime)+" y "+e._s(e.maxValueTime)+"\n          ")])],1)]),i("div",{staticClass:"form-row"},[i("div",{staticClass:"col-md-6"},[i("md-field",{class:e.getValidationClass("imageUrl")},[i("label",[e._v("Imagen (URL)")]),i("md-input",{attrs:{type:"url",id:"imageUrl"},model:{value:e.$v.form.imageUrl.$model,callback:function(t){e.$set(e.$v.form.imageUrl,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.imageUrl.$model"}})],1)],1),i("div",{staticClass:"col-md-6"},[i("md-field",{class:e.getValidationClass("videoUrl")},[i("label",[e._v("Youtube video (URL)")]),i("md-input",{attrs:{type:"url",id:"videoUrl"},model:{value:e.$v.form.videoUrl.$model,callback:function(t){e.$set(e.$v.form.videoUrl,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.videoUrl.$model"}}),e.$v.form.videoUrl.url?e.$v.form.videoUrl.youtubeUrl?e._e():i("span",{staticClass:"md-error"},[e._v(e._s(e.youtubeUrl))]):i("span",{staticClass:"md-error"},[e._v(e._s(e.invalidUrl))])],1)],1)]),i("div",{staticClass:"form-row"},[e.isImageModelURL?e._e():i("div",{staticClass:"d-flex align-items-center col-md-6"},[i("div",[i("input",{ref:"image",staticClass:"input-file",attrs:{id:"image",type:"file",name:"image"},on:{change:function(t){return e.onSelect(t)}}}),i("p",{directives:[{name:"show",rawName:"v-show",value:e.file.error,expression:"file.error"}],staticClass:"text-danger mt-2"},[e._v("\n              "+e._s(e.invalidFile)+"\n            ")])])]),i("div",{staticClass:"col-md-6"},[i("md-checkbox",{staticClass:"md-primary",attrs:{id:"is-warmup"},model:{value:e.$v.form.isWarmUp.$model,callback:function(t){e.$set(e.$v.form.isWarmUp,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.isWarmUp.$model"}},[i("span",{staticClass:"checkbox-text"},[e._v("Ejercicio de calentamiento")])])],1)]),i("div",{staticClass:"form-row mt-3 text-center"},[i("div",{staticClass:"col"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("\n            Guardar\n          ")]),"OK"===e.submitStatus?i("p",{staticClass:"success"},[e._v("\n            Ejercicio creado correctamente!\n          ")]):e._e(),"PENDING"===e.submitStatus?i("p",{staticClass:"info"},[e._v("\n            Enviando...\n          ")]):e._e()])])])])])},s=[],a=i("a34a"),o=i.n(a),n=i("2f62"),l=i("5ede"),m=i("b5ae"),d=i("9a36");function c(e,t,i,r,s,a,o){try{var n=e[a](o),l=n.value}catch(m){return void i(m)}n.done?t(l):Promise.resolve(l).then(r,s)}function u(e){return function(){var t=this,i=arguments;return new Promise((function(r,s){var a=e.apply(t,i);function o(e){c(a,r,s,o,n,"next",e)}function n(e){c(a,r,s,o,n,"throw",e)}o(void 0)}))}}function f(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?f(Object(i),!0).forEach((function(t){p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var g={name:"exercise-new",mounted:function(){this.$store.dispatch("GET_EXERCISES")},mixins:[l["a"]],data:function(){return{form:{name:"",sport:"",bodyPart:"",level:"",target:"",moveType:"",description:"",observations:"",time:"",rest:"",series:"",reps:"",image:{},imageUrl:"",videoUrl:"",isWarmUp:!1},file:{format:"image/",maxSize:5e6,error:!1},invalidFile:"Formatos válidos: png, jpg, gif. Tamaño máximo 5MB",invalidField:"Campo incorrecto",requiredField:"Campo obligatorio",invalidUrl:"URL incorrecta",youtubeUrl:"No es una URL de Youtube",submitStatus:null,sports:d["f"],targets:d["g"],levels:d["b"],bodyParts:d["a"],minutes:d["c"],minValueTime:d["c"][0],maxValueTime:d["c"][d["c"].length-1]}},computed:v(v({},Object(n["b"])(["totalExercises"])),{},{isImageModelURL:function(){return this.isImageUrl(this.$v.form.imageUrl.$model)}}),methods:{getValidationClass:function(e){var t=this.$v.form[e];if(t)return{"md-invalid":t.$invalid&&t.$dirty}},isValidFile:function(){if(this.$refs.image.files[0]){var e=this.$refs.image.files[0],t=e.type,i=e.size;return t.includes(this.file.format)&&i<this.file.maxSize}return!1},onSelect:function(){if(this.file.error=!1,this.$v.form.imageUrl.$reset(),this.isValidFile()){var e=this.$refs.image.files[0],t=URL.createObjectURL(e);this.form.image=e,this.isImageModelURL||(this.$v.form.imageUrl.$model=t)}else this.$refs.image.value="",this.$v.form.imageUrl.$model="",this.file.error=!0},onSubmit:function(){var e=u(o.a.mark((function e(){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$v.form.$touch(),!this.$v.$invalid){e.next=5;break}this.submitStatus="ERROR",e.next=13;break;case 5:return this.submitStatus="PENDING",t=this.saveExercise(),e.next=9,this.$store.dispatch("SAVE_EXERCISE",t);case 9:return this.submitStatus="OK",e.next=12,this.$store.dispatch("GET_EXERCISES");case 12:this.$emit("submitStatus",!1);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveExercise:function(){var e=new FormData;if(e.append("name",this.form.name),e.append("sport",this.form.sport),e.append("moveType",this.form.moveType),e.append("bodyPart",this.form.bodyPart),e.append("level",this.form.level),e.append("target",this.form.target),e.append("description",this.form.description),e.append("observations",this.form.observations),e.append("time",this.form.time),e.append("rest",this.form.rest),e.append("series",this.form.series),e.append("reps",this.form.reps),e.append("imageUrl",this.form.imageUrl),e.append("isWarmUp",this.form.isWarmUp),this.form.image&&e.append("image",this.form.image),this.form.videoUrl){var t=this.setVideoUrl(this.form.videoUrl);e.append("videoUrl",t)}else e.append("videoUrl","");return e},setVideoUrl:function(e){if(e.includes(d["i"])){var t=e.split(d["i"])[1];return"".concat(d["h"]).concat(t)}return e}},validations:function(){return{form:{name:{required:m["required"],minLength:Object(m["minLength"])(5)},sport:{required:m["required"]},bodyPart:{required:m["required"]},level:{required:m["required"]},target:{required:m["required"]},moveType:{},description:{minLength:Object(m["minLength"])(10),maxLength:Object(m["maxLength"])(500)},observations:{minLength:Object(m["minLength"])(10),maxLength:Object(m["maxLength"])(500)},series:{minValue:Object(m["minValue"])(1),maxValue:Object(m["maxValue"])(60)},reps:{minValue:Object(m["minValue"])(0),maxValue:Object(m["maxValue"])(60)},rest:{minValue:Object(m["minValue"])(this.minValueTime),maxValue:Object(m["maxValue"])(this.maxValueTime)},time:{minValue:Object(m["minValue"])(this.minValueTime),maxValue:Object(m["maxValue"])(this.maxValueTime)},image:{},imageUrl:{},videoUrl:{url:m["url"],youtubeUrl:function(e){return!e||(e.includes(d["i"])||e.includes(d["h"]))}},isWarmUp:{}}}}},b=g,$=(i("48e6"),i("2877")),h=Object($["a"])(b,r,s,!1,null,"07920fa4",null);t["default"]=h.exports},"5b20":function(e,t,i){e.exports=i.p+"img/core.67f8544d.png"},"5ede":function(e,t,i){"use strict";t["a"]={methods:{isImageUrl:function(e){var t=new RegExp("https://");return t.test(e)},getImage:function(e){return this.isImageUrl(e.imageUrl)?e.imageUrl:"".concat("https://fit-training.herokuapp.com/uploads/").concat(e.image.filename)},defaultExerciseImage:function(e,t){var r=t&&t.sport?t.sport.toLowerCase():"boxing",s=i("320a")("./".concat(r,".png"));e.target.src=s},getSportImage:function(e){var t=e.toLowerCase();return i("90f8")("./".concat(t,".png"))},setLoopInVideo:function(e){var t=e.split("embed/")[1];return"".concat(e,"?version=3&loop=1&playlist=").concat(t)}}}},"64b1":function(e,t,i){e.exports=i.p+"img/fitness.ffdbffb8.png"},"90f8":function(e,t,i){var r={"./boxing.png":"3368","./core.png":"0f4d","./fitness.png":"e20d","./hiit.png":"10e9"};function s(e){var t=a(e);return i(t)}function a(e){if(!i.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id="90f8"},e20d:function(e,t,i){e.exports=i.p+"img/fitness.20309555.png"}}]);
//# sourceMappingURL=chunk-631a4aa8.e6cc653c.js.map